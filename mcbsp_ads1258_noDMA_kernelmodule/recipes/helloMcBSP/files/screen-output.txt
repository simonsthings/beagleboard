root@beagleboard:~#                                                                                                  
root@beagleboard:~# rm helloMcBSP.ko 
root@beagleboard:~# rz                                                                                               
..root@beagleboard:~# **B0100000023be50
root@beagleboard:~# 
root@beagleboard:~# insmod helloMcBSP.ko 
[ 2748.984771] Hello McBSP world!
[ 2748.987884] Gpio 134 (ADS1258EVM-clockselect) was requested. Return status: -16
[ 2748.996032] Setting gpio134 (ADS1258EVM-clockselect) as output, value 1=EXTERNAL clock from BB. Return status: 0
[ 2749.006683] Setting IO type was 0. Requesting McBSP 1 returned: 0 
[ 2749.013305] Configured McBSP 1 registers for raw mode..
[ 2749.019012] Started McBSP 1. 
[ 2749.022003] Now reading data from McBSP 1 in SPI mode... 
[ 2749.027923] Reading from McBSP 1 in SPI mode returned as status: 0 and as value: 0x9b3d 
[ 2749.036407] Now writing data to McBSP 1 in SPI mode... 
[ 2749.041992] Writing to McBSP 1 in SPI mode returned as status: 0 
[ 2749.048461] Now writing data to McBSP 1 (raw & polled)... 
[ 2749.053985] Writing to McBSP 1 (raw, polled mode) returned as status: 0 
[ 2749.061248] Now writing 2nd data to McBSP 1 (raw & polled)... 
[ 2749.067413] Writing to McBSP 1 (raw, polled mode) returned as status: 0 
[ 2749.074493] Now reading data from McBSP 1 (raw & polled)... 
[ 2749.080505] Reading from McBSP 1 (raw, polled mode) returned as status: 0 and as value 0x9b3d 
[ 2749.089508] Now writing data to McBSP 1 via DMA! 
[ 2749.094573] omap-mcbsp omap-mcbsp.1: McBSP1 TX DMA on channel 2
[ 2749.696044] Wrote to McBSP 1 via DMA! Return status: 0 
[ 2749.701324] The first 40 of 896 values of the transferbuffer bufbuf after transmission are: 
[ 2749.710418] trans: 
[ 2749.710418]  0x53c3c3ca, 0x5c3c3c3a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e 
[ 2749.731597]     0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7e7e7a, 0x5e7 
[ 2749.750701]  end. 
[ 2749.752716] Now reading data from McBSP 1 via DMA! 
[ 2749.758117] omap-mcbsp omap-mcbsp.1: McBSP1 RX DMA on channel 2
[ 2750.359954] Read from McBSP 1 via DMA! Return status: 0 
[ 2750.365295] The first millions of 896 values of the transferbuffer bufbuf after reception are: 
[ 2750.374633] receive: 
[ 2750.374664]  0x92000033, 0x9300007c, 0x94000020, 0x95000065, 0x96000018, 0x97000050, 0x88f6fa86, 0x89000058, 0x8a000050, 0x8b0000c4, 0x8c000085, 0x8d0000 
[ 2750.395874]     0x92000050, 0x93000090, 0x9400003c, 0x95000090, 0x9600005a, 0x9700009f, 0x88f6fa8b, 0x890000f5, 0x8a0000de, 0x8b0000b3, 0x8c000097, 0x8d0 
[ 2750.414947]     0x92000044, 0x93000078, 0x9400005d, 0x95000085, 0x96000040, 0x970000af, 0x88f6faf1, 0x890000c0, 0x8a0000a6, 0x8b0000b6, 0x8c000076, 0x8d0 
[ 2750.433990]     0x9200003a, 0x9300005f, 0x94000023, 0x950000aa, 0x9600004c, 0x970000a0, 0x88f6faee, 0x890000ee, 0x8a000093, 0x8b0000a0, 0x8c0000a9, 0x8d0 
[ 2750.453094]     0x9200003b, 0x93000063, 0x94000040, 0x95000082, 0x96000028, 0x970000ac, 0x88f6fa6b, 0x890000fc, 0x8a0000df, 0x8b0000b9, 0x8c000096, 0x8d0 
[ 2750.472167]     0x92000049, 0x93000091, 0x9400005d, 0x9500007d, 0x9600003f, 0x970000b2, 0x88f6faae, 0x890000f2, 0x8a0000ae, 0x8b000099, 0x8c00008e, 0x8d0 
[ 2750.491210]     0x92000020, 0x93000073, 0x9400004d, 0x9500007c, 0x96000056, 0x970000a3, 0x88f6fad8, 0x890000e8, 0x8a0000a3, 0x8b0000a8, 0x8c000085, 0x8d0 
[ 2750.510253]     0x92000053, 0x93000069, 0x94000040, 0x9500008f, 0x9600005d, 0x970000c6, 0x88f6fa74, 0x89000136, 0x8a0000c6, 0x8b0000af, 0x8c0000b5, 0x8d0 
[ 2750.529296]     0x90000027, 0x91000046, 0x9200003c, 0x93000086, 0x9400001f, 0x95000082, 0x96000075, 0x970000a1, 0x88f6fab1, 0x89000109, 0x8a0000a3, 0x8b0 
[ 2750.548370]     0x90000031, 0x91000034, 0x9200003a, 0x9300007b, 0x9400004a, 0x9500008a, 0x96000064, 0x970000b4, 0x88f6fb0d, 0x890000e1, 0x8a0000a4, 0x8b0 
[ 2750.567413]     0x90000036, 0x91000038, 0x9200004f, 0x93000079, 0x9400006c, 0x95000096, 0x96000050, 0x970000ae, 0x88f6fa80, 0x890000fb, 0x8a0000b5, 0x8b0 
[ 2750.586456]     0x90000050, 0x9100003b, 0x92000053, 0x93000065, 0x94000044, 0x95000096, 0x96000053, 0x970000b8, 0x88f6fa42, 0x89000135, 0x8a0000cf, 0x8b0 
[ 2750.605499]     0x90000054, 0x91000036, 0x92000061, 0x93000074, 0x94000044, 0x95000082, 0x96000038, 0x970000b5, 0x88f6fa7e, 0x890000fa, 0x8a000082, 0x8b0 
[ 2750.624572]     0x9000004b, 0x9100003c, 0x92000035, 0x9300006e, 0x94000037, 0x950000a3, 0x9600004a, 0x970000aa, 0x88f6fa8d, 0x890000df, 0x8a000099, 0x8b0 
[ 2750.643615]     0x9000004d, 0x9100003a, 0x92000044, 0x93000081, 0x94000022, 0x950000aa, 0x96000055, 0x97000098, 0x88f6fa46, 0x8900012b, 0x8a0000b5, 0x8b0 
[ 2750.662658]     0x90000035, 0x91000032, 0x9200003f, 0x9300007e, 0x94000046, 0x95000080, 0x9600002a, 0x970000c7, 0x88f6fa4b, 0x8900012b, 0x8a0000bd, 0x8b0 
[ 2750.681701]     0x90000036, 0x91000033, 0x92000063, 0x93000057, 0x94000013, 0x95000073, 0x96000043, 0x970000cd, 0x88f6fa90, 0x890000eb, 0x8a0000b0, 0x8b0 
[ 2750.700988]     0x90000042, 0x9100002c, 0x92000049, 0x9300006c, 0x9400003b, 0x95000099, 0x96000054, 0x970000a9, 0x88f6fa96, 0x890000e9, 0x8a0000a8, 0x8b0 
[ 2750.720092]     0x90000041, 0x91000036, 0x92000036, 0x930000aa, 0x9400004a, 0x95000089, 0x96000057, 0x970000ae, 0x88f6fa72, 0x8900011c, 0x8a0000c8, 0x8b0 
[ 2750.739166]     0x90000049, 0x9100004b, 0x92000038, 0x93000064, 0x94000053, 0x950000aa, 0x9600003f, 0x970000b4, 0x88f6fa90, 0x890000e1, 0x8a0000a4, 0x8b0 
[ 2750.758209]     0x90000039, 0x9100003b, 0x92000042, 0x93000087, 0x94000036, 0x9500008d, 0x9600005f, 0x970000c7, 0x88f6fa95, 0x890000c3, 0x8a00008c, 0x8b0 
[ 2750.777282]     0x90000043, 0x91000067, 0x9200003e, 0x9300008c, 0x94000031, 0x95000095, 0x96000059, 0x970000a0, 0x88f6fa53, 0x89000104, 0x8a0000c2, 0x8b0 
[ 2750.796325]     0x90000037, 0x91000052, 0x9200004b, 0x9300006c, 0x9400005c, 0x950000a7, 0x9600005d, 0x970000c1, 0x88f6fa74, 0x8900010f, 0x8a0000bd, 0x8b0 
[ 2750.815399]     0x9000002c, 0x9100003f, 0x92000042, 0x93000077, 0x94000057, 0x95000099, 0x9600005b, 0x970000bf, 0x88f6faaa, 0x890000c5, 0x8a000085, 0x8b0 
[ 2750.834442]     0x90000033, 0x91000058, 0x92000037, 0x93000072, 0x9400005b, 0x95000097, 0x96000043, 0x97000093, 0x88f6fa55, 0x89000106, 0x8a00009b, 0x8b0 
[ 2750.853485]     0x90000050, 0x9100004d, 0x9200002f, 0x93000091, 0x94000044, 0x95000083, 0x9600005d, 0x970000b3, 0x88f6fa44, 0x89000133, 0x8a0000c0, 0x8b0 
[ 2750.872528]     0x90000027, 0x91000036, 0x92000020, 0x9300004d, 0x94000038, 0x95000087, 0x9600005b, 0x970000b5, 0x88f6fa7e, 0x890000f3, 0x8a000095, 0x8b0 
[ 2750.891601]     0x9000001e, 0x91000053, 0x92000041, 0x9300008f, 0x9400003b, 0x95000080, 0x9600004a, 0x970000bc, 0x88f6fabd, 0x890000e0, 0x8a0000ae, 0x8b0 
[ 2750.910644]     0x90000032, 0x9100003f, 0x9200004a, 0x93000073, 0x94000053, 0x95000089, 0x9600004c, 0x970000bb, 0x88f6fa41, 0x89000112, 0x8a0000c2, 0x8b0 
[ 2750.929718]     0x9000002c, 0x91000045, 0x92000038, 0x9300008b, 0x94000051, 0x950000b9, 0x96000067, 0x970000bc, 0x88f6fa81, 0x8900011b, 0x8a0000c1, 0x8b0 
[ 2750.948760]     0x90000048, 0x91000023, 0x9200003a, 0x93000068, 0x94000048, 0x9500008a, 0x96000041, 0x970000ba, 0x88f6fa90, 0x890000e6, 0x8a0000b5, 0x8b0 
[ 2750.967803]     0x90000034, 0x91000052, 0x9200003e, 0x9300004b, 0x94000039, 0x95000077, 0x96000051, 0x97000098, 0x88f6fa74, 0x890000dc, 0x8a0000b1, 0x8b0 
[ 2750.986877]     0x90000011, 0x91000037, 0x9200003c, 0x93000067, 0x94000017, 0x9500008a, 0x9600006d, 0x970000a9, 0x88f6fa7c, 0x89000125, 0x8a0000d5, 0x8b0 
[ 2751.005920]     0x90000062, 0x9100003e, 0x9200003c, 0x93000071, 0x94000042, 0x950000a2, 0x96000063, 0x970000ba, 0x88f6fab7, 0x890000f6, 0x8a0000a0, 0x8b0 
[ 2751.024963]     0x90000053, 0x9100004f, 0x92000041, 0x93000071, 0x9400004c, 0x9500009a, 0x96000065, 0x9700009c, 0x88f6faec, 0x890000f2, 0x8a000090, 0x8b0 
[ 2751.044036]     0x90000037, 0x9100000c, 0x92000052, 0x9300007e, 0x94000055, 0x95000091, 0x96000056, 0x970000a5, 0x88f6faa0, 0x89000115, 0x8a0000b8, 0x8b0 
[ 2751.063079]     0x90000047, 0x9100003a, 0x92000047, 0x93000096, 0x9400003f, 0x950000b8, 0x96000050, 0x970000a8, 0x88f6fa7a, 0x8900011b, 0x8a0000b3, 0x8b0 
[ 2751.082122]     0x90000025, 0x91000043, 0x9200003d, 0x9300005b, 0x9400003c, 0x95000089, 0x96000065, 0x970000a9, 0x88f6fabd, 0x890000d5, 0x8a00008e, 0x8b0 
[ 2751.101196]     0x90000045, 0x9100003c, 0x9200003e, 0x9300005c, 0x94000045, 0x950000d0, 0x9600005b, 0x970000bb, 0x88f6fa72, 0x890000f6, 0x8a0000ab, 0x8b0 
[ 2751.120239]     0x90000038, 0x91000033, 0x92000049, 0x9300005f, 0x9400002e, 0x9500007b, 0x9600005c, 0x970000a6, 0x88f6fa41, 0x8900013e, 0x8a0000c6, 0x8b0 
[ 2751.139282]     0x90000028, 0x91000052, 0x9200001e, 0x93000075, 0x94000067, 0x9500009a, 0x96000035, 0x970000bf, 0x88f6faab, 0x89000101, 0x8a00009b, 0x8b0 
[ 2751.158355]     0x90000047, 0x9100002f, 0x9200002a, 0x9300007e, 0x94000043, 0x95000090, 0x96000061, 0x970000bd, 0x88f6fa99, 0x890000bd, 0x8a00007d, 0x8b0 
[ 2751.177398]     0x90000057, 0x9100001e, 0x92000055, 0x93000075, 0x94000053, 0x95000077, 0x9600004d, 0x970000c1, 0x88f6fa9a, 0x89000138, 0x8a0000e2, 0x8b0 
[ 2751.196441]     0x90000032, 0x91000050, 0x9200005a, 0x9300005d, 0x9400005e, 0x95000097, 0x9600004f, 0x97000096, 0x88f6fa7d, 0x8900011b, 0x8a0000b2, 0x8b0 
[ 2751.215515]     0x90000065, 0x9100004f, 0x92000050, 0x9300007d, 0x9400004f, 0x950000a2, 0x96000057, 0x970000aa, 0x88f6faad, 0x890000f0, 0x8a0000a4, 0x8b0 
[ 2751.234558]     0x90000023, 0x91000047, 0x9200002a, 0x93000074, 0x9400002b, 0x9500008e, 0x96000058, 0x970000b8, 0x88f6fa7a, 0x89000102, 0x8a0000b1, 0x8b0 
[ 2751.253601]     0x90000033, 0x91000041, 0x9200001e, 0x9300008b, 0x9400005a, 0x950000a4, 0x96000057, 0x970000b6, 0x88f6fa94, 0x89000126, 0x8a0000bc, 0x8b0 
[ 2751.272644]     0x9000003a, 0x91000040, 0x92000059, 0x93000089, 0x94000045, 0x95000099, 0x96000065, 0x970000b4, 0x88f6fad1, 0x890000fc, 0x8a0000ad, 0x8b0 
[ 2751.291687]     0x90000051, 0x91000064, 0x92000056, 0x93000087, 0x94000049, 0x9500009e, 0x9600005f, 0x970000d5, 0x88f6fad6, 0x890000e5, 0x8a00007d, 0x8b0 
[ 2751.310760]     0x9000003d, 0x91000038, 0x9200005e, 0x93000072, 0x94000049, 0x9500009b, 0x96000034, 0x970000cf, 0x88f6fa42, 0x89000137, 0x8a0000c5, 0x8b0 
[ 2751.329803]     0x9000001b, 0x9100005c, 0x92000050, 0x9300007b, 0x94000061, 0x95000077, 0x96000064, 0x970000a6, 0x88f6fa80, 0x890000cc, 0x8a0000ca, 0x8b0 
[ 2751.348846]     0x9000004a, 0x91000040, 0x92000045, 0x93000083, 0x94000030, 0x95000094, 0x96000058, 0x97000082, 0x88f6fa6b, 0x890000d4, 0x8a00007a, 0x8b0 
[ 2751.367919]     0x90000047, 0x9100005e, 0x92000021, 0x93000070, 0x9400003d, 0x9500007b, 0x9600004f, 0x970000a5, 0x88f6faa4, 0x89000112, 0x8a000087, 0x8b0 
[ 2751.386962]     0x9000002f, 0x9100002e, 0x92000049, 0x9300007c, 0x9400004a, 0x9500007a, 0x9600004e, 0x970000a6, 0x88f6fa5c, 0x89000136, 0x8a0000e9, 0x8b0 
[ 2751.406066]     0x9000002a, 0x91000047, 0x9200003d, 0x93000058, 0x9400004f, 0x9500007b, 0x9600004c, 0x970000b3, 0x88f6fa7d, 0x89000111, 0x8a0000a9, 0x8b0 
[ 2751.425109]     0x90000058, 0x91000067, 0x9200003f, 0x9300007a, 0x9400002a, 0x950000a8, 0x96000040, 0x970000da, 0x88f6fa54, 0x890000d8, 0x8a00009c, 0x8b0 
[ 2751.444091]  end. 
root@beagleboard:~# 

